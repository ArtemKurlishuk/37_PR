@using Shop.Data.Models
@model Shop.Data.Models.Items
@{
    Layout = "_Layout";
}

<h2">
    Изменение товара</h2>

    <form method="post" enctype="multipart/form-data">
@{
    <div>
                Наименование:
                <br /><input name="name" value="@Model.Name" />
    </div>
    <div>
                Описание:
                <br /><input name="description" value="@Model.Description" />
    </div>
    <div>
                <label for="file">Изображение</label>
                <br /><input name="files" type="file" />
    </div>
    <div>
                Стоимость:
                <br /><input name="price" value="@Model.Price" />
    </div>
    <div>
                Категория:
                <br /><select name="idCategory">
            @{
                foreach (var category in ViewBag.Categories)
                {
                            <option value="@category.Id" @(category.Id == Model.Category.Id ? "selected" : "")>@category.Name</option>
                }
            }
                </select>
    </div>
    <input type="submit" value="Сохранить изменения" />
    <button type="button" onclick="deleteItem(@Model.Id)">Удалить информацию о товаре</button>
    <script>
                function deleteItem(itemId) {
                    if (confirm("Вы уверены что хотите удалить товар?")) {
                        window.location.href = "/Items/Delete?id=" + itemId;
                    }
                }
    </script>
}
    </form>
